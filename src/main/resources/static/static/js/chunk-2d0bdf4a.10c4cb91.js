(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bdf4a"],{"2dce":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-upload",{attrs:{action:"http://127.0.0.1:8080/plugin/upload",name:"pluginFile","show-file-list":!1,"on-success":e.handleUpload,"on-error":e.handleUpload}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),n("br"),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),n("el-table-column",{attrs:{label:"ID",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),n("el-table-column",{attrs:{label:"描述",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.desc)+" ")]}}])}),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enable?n("el-button",{attrs:{plain:"",type:"warning",size:"mini"},on:{click:function(n){return e.doDisable(t.row)}}},[e._v("禁用")]):n("el-button",{attrs:{plain:"",type:"success",size:"mini"},on:{click:function(n){return e.doEnable(t.row)}}},[e._v("启用")]),n("el-button",{attrs:{plain:"",type:"danger",size:"mini"},on:{click:function(n){return e.doDelete(t.row)}}},[e._v("删除")])]}}])})],1),n("div",{staticStyle:{"text-align":"center"}},[n("br"),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next, sizes",total:e.total,"page-sizes":[10,20,30,50],"page-size":e.pageInfo.pageSize},on:{"current-change":e.handlePageChange,"size-change":e.handleSizeChange}})],1)],1)},i=[],s=n("b775");function o(e){return Object(s["a"])({url:"/plugin/list",method:"get",params:e})}function l(e){return Object(s["a"])({url:"/plugin/disable",method:"get",params:e})}function r(e){return Object(s["a"])({url:"/plugin/enable",method:"get",params:e})}function c(e){return Object(s["a"])({url:"/plugin/delete",method:"get",params:e})}var u={filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},data:function(){return{pageInfo:{pageNo:1,pageSize:10},total:0,editRowData:{},editRow:-1,jobDataVo:[],jobData:{},dialogVisible:!1,list:null,listLoading:!0}},created:function(){this.fetchData()},methods:{handleUpload:function(e,t,n){200===e.code?(this.$message({message:e.msg,type:"success"}),this.fetchData()):this.$message({message:e.msg,type:"error"})},handlePageChange:function(e){this.pageInfo.pageNo=e,this.fetchData()},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.pageInfo.pageNo=1,this.fetchData()},fetchData:function(){var e=this;this.listLoading=!0,o(this.pageInfo).then((function(t){e.total=t.data.totalCount,e.list=t.data.pageData,console.log(t),e.listLoading=!1}))},doEnable:function(e){var t=this;this.$confirm("是否启用此插件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){r({pluginId:e.id}).then((function(e){t.$message({message:e.msg,type:"success"}),t.fetchData()})).catch((function(e){t.$message({message:e.msg,type:"error"})}))}))},doDisable:function(e){var t=this;this.$confirm("是否禁用此插件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l({pluginId:e.id}).then((function(e){t.$message({message:e.msg,type:"success"}),t.fetchData()})).catch((function(e){t.$message({message:e.msg,type:"error"})}))}))},doDelete:function(e){var t=this;this.$confirm("是否删除此插件(无法恢复)?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){c({pluginId:e.id}).then((function(e){t.$message({message:e.msg,type:"success"}),t.fetchData()})).catch((function(e){t.$message({message:e.msg,type:"error"})}))}))}}},g=u,d=n("2877"),p=Object(d["a"])(g,a,i,!1,null,null,null);t["default"]=p.exports}}]);